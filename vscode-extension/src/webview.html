<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cognitive Tutor</title>
    <style>
        body.vscode-dark {
            background-color: #252526;
            color: #cccccc;
        }
        body.vscode-light {
            background-color: #ffffff;
            color: #333333;
        }
        .strategy-view {
            display: none;
            padding: 1em;
        }
        .strategy-view.active {
            display: block;
        }
    </style>
</head>
<body>
    <h1>Cognitive Tutor</h1>

    <div id="baseline-view" class="strategy-view">
        <h2>Baseline: Explain-on-Hover</h2>
        <p>Full code will be generated here. Hover over lines for explanations.</p>
        <textarea id="baseline-code" rows="20" style="width: 95%;"></textarea>
    </div>

    <div id="lead-reveal-view" class="strategy-view">
        <h2>Lead & Reveal</h2>
        <p>Answer questions to reveal the code.</p>
        <div id="qa-container"></div>
    </div>

    <div id="trace-predict-view" class="strategy-view">
        <h2>Trace & Predict</h2>
        <p>Predict the next state or line of code.</p>
        <div id="trace-container"></div>
    </div>

    <div id="line-by-line-view" class="strategy-view">
        <h2>Line-by-Line Typing</h2>
        <p>Type the code as it appears.</p>
        <div id="typing-container"></div>
    </div>

    <script>
        const vscode = acquireVsCodeApi();

        function setStrategy(strategy) {
            document.querySelectorAll('.strategy-view').forEach(view => {
                view.classList.remove('active');
            });
            document.getElementById(strategy + '-view').classList.add('active');
        }

        window.addEventListener('message', event => {
            const message = event.data;
            switch (message.type) {
                case 'setStrategy':
                    setStrategy(message.strategy);
                    break;
            }
        });
    </script>
</body>
</html>
